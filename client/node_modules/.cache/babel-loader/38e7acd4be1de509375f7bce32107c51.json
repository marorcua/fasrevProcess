{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Login/LoginForm.js\";\nimport { Component } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport AuthService from './../../../service/auth.service';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: '',\n      password: '',\n      alert: {\n        show: false,\n        text: ' '\n      }\n    };\n    this.authService = new AuthService();\n  }\n\n  handleInputChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.authService.login(this.state).then(response => {\n      console.log('usuario creado');\n      this.props.storeUser(response.data);\n      this.props.handleAlert(`Welcome back ${response.data.email}`);\n\n      if (response.data.role === 'SUPPLIER' && !response.data.client) {\n        this.props.history.push('/supplier/signup');\n      } else if (this.props.history.location.pathname !== '/login') {\n        this.props.closeModal();\n        this.props.history.push(this.props.history.location.pathname);\n      } else if (response.data.role === 'ADMIN' && !response.data.client) {\n        this.props.history.push('/admin');\n      } else {\n        this.props.history.push('/');\n      }\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        alert: {\n          show: true,\n          text: err.response.data.message\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        show: this.state.alert.show,\n        variant: \"danger\",\n        children: this.state.alert.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => this.handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            value: this.state.email,\n            onChange: e => this.handleInputChange(e),\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            value: this.state.password,\n            onChange: e => this.handleInputChange(e),\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"dark\",\n          style: {\n            width: '100%',\n            marginTop: '20px'\n          },\n          type: \"submit\",\n          children: \"Iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/signup\",\n        children: \"Not an account yet? Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Login/LoginForm.js"],"names":["Component","Form","Button","Alert","AuthService","Link","LoginForm","constructor","state","email","password","alert","show","text","authService","handleInputChange","e","name","value","target","setState","handleSubmit","preventDefault","login","then","response","console","log","props","storeUser","data","handleAlert","role","client","history","push","location","pathname","closeModal","catch","err","message","render","width","marginTop"],"mappings":"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","sourcesContent":["import { Component } from 'react'\r\nimport { Form, Button, Alert } from 'react-bootstrap'\r\nimport AuthService from './../../../service/auth.service'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass LoginForm extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            alert: {\r\n                show: false,\r\n                text: ' '\r\n            }\r\n        }\r\n        this.authService = new AuthService()\r\n    }\r\n\r\n\r\n    handleInputChange(e) {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n        this.authService\r\n            .login(this.state)\r\n            .then(response => {\r\n                console.log('usuario creado')\r\n                this.props.storeUser(response.data)\r\n                this.props.handleAlert(`Welcome back ${response.data.email}`)\r\n                if ((response.data.role === 'SUPPLIER') && !response.data.client) {\r\n                    this.props.history.push('/supplier/signup')\r\n                } else if (this.props.history.location.pathname !== '/login') {\r\n                    this.props.closeModal()\r\n                    this.props.history.push(this.props.history.location.pathname)\r\n                } else if ((response.data.role === 'ADMIN') && !response.data.client) {\r\n                    this.props.history.push('/admin')\r\n                } else {\r\n                    this.props.history.push('/')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                this.setState({ alert: { show: true, text: err.response.data.message } })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Alert show={this.state.alert.show} variant='danger'>{this.state.alert.text}</Alert>\r\n                <Form onSubmit={e => this.handleSubmit(e)}>\r\n\r\n                    <Form.Group controlId=\"email\">\r\n                        <Form.Label>Email</Form.Label>\r\n                        <Form.Control type=\"text\" value={this.state.email} onChange={e => this.handleInputChange(e)} name=\"email\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" value={this.state.password} onChange={e => this.handleInputChange(e)} name=\"password\" />\r\n                    </Form.Group>\r\n\r\n                    <Button variant=\"dark\" style={{ width: '100%', marginTop: '20px' }} type=\"submit\">Iniciar sesión</Button>\r\n                </Form>\r\n                <hr />\r\n                <Link to=\"/signup\">Not an account yet? Sign up</Link>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginForm"]},"metadata":{},"sourceType":"module"}