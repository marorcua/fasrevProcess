{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Cart/Cart.js\";\nimport './Cart.css';\nimport { Component } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport OrdersService from '../../../service/order.service';\nimport CartRow from './CartRow';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n    this.state = {\n      products: undefined,\n      total: undefined\n    };\n    this.orderService = new OrdersService();\n  }\n\n  componentDidMount() {\n    this.updateProducts();\n    this.props.updateCartNumber();\n  }\n\n  updateProducts() {\n    this.orderService.getUserOrder().then(response => {\n      const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n      const products = response.data[0].products;\n      products.length === 0 ? this.setState({\n        products,\n        total: 0\n      }) : this.setState({\n        products,\n        total: products.map(elm => elm.option.price * elm.quantity).reduce(reducer)\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: !this.state.products ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your cart looks empty. You can add a new product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 44\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"cart-title\",\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          className: \"cart-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Cart (\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: this.state.products.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 43\n            }, this), \" items)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 33\n          }, this), this.state.products.map(elm => /*#__PURE__*/_jsxDEV(CartRow, {\n            handleAlert: this.props.handleAlert,\n            updateCartNumber: this.props.updateCartNumber,\n            fetchProducts: () => this.updateProducts(),\n            ...elm\n          }, elm._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 65\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          className: \"total-column\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-column\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\",\n              children: [\"Temporary amount \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", this.state.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 154\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\",\n              children: [\"Shipping \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Gratis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 146\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Total amount including VAT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 137\n              }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"$\", this.state.total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 173\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 170\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/checkout\",\n              className: \"btn btn-dark checkout-btn\",\n              children: \"Go to checkout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Cart/Cart.js"],"names":["Component","Container","Row","Col","OrdersService","CartRow","Link","Cart","constructor","state","products","undefined","total","orderService","componentDidMount","updateProducts","props","updateCartNumber","getUserOrder","then","response","reducer","accumulator","currentValue","data","length","setState","map","elm","option","price","quantity","reduce","catch","err","console","log","render","handleAlert","_id"],"mappings":"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","sourcesContent":["import './Cart.css'\nimport { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport OrdersService from '../../../service/order.service'\nimport CartRow from './CartRow'\nimport { Link } from 'react-router-dom'\n\nclass Cart extends Component {\n    constructor() {\n        super()\n        this.state = {\n            products: undefined,\n            total: undefined\n        }\n\n        this.orderService = new OrdersService()\n    }\n\n    componentDidMount() {\n        this.updateProducts()\n        this.props.updateCartNumber()\n    }\n\n    updateProducts() {\n        this.orderService\n            .getUserOrder()\n            .then(response => {\n                const reducer = (accumulator, currentValue) => accumulator + currentValue\n                const products = response.data[0].products\n                products.length === 0 ? this.setState({ products, total: 0}) : this.setState({ products, total: products.map(elm => elm.option.price * elm.quantity).reduce(reducer)})\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        return (\n            <Container>\n                {\n                    !this.state.products ? <h2>Your cart looks empty. You can add a new product</h2> :\n\n                        <Row>\n                            <h1 className=\"cart-title\">Shopping Cart</h1>\n                            <Col md={8} className=\"cart-column\">\n                                <h3>Cart (<span>{this.state.products.length}</span> items)</h3>\n                                {this.state.products.map(elm => <CartRow key={elm._id} handleAlert={this.props.handleAlert} updateCartNumber={this.props.updateCartNumber} fetchProducts={() => this.updateProducts()} {...elm} />)}\n                            </Col>\n                            <Col md={4} className=\"total-column\">\n                                <div className=\"cart-column\">\n                                    <h3>Total amount</h3>\n                                    <br></br>\n                                    <p className=\"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\">Temporary amount <span>${this.state.total}</span></p>\n                                    <p className=\"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\">Shipping <span>Gratis</span></p>\n                                    <hr></hr>\n                                    <p className=\"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0\"><b>Total amount including VAT</b><b><span>${this.state.total}</span></b></p>\n                                    <Link to=\"/checkout\" className=\"btn btn-dark checkout-btn\">Go to checkout</Link>\n                                </div>\n                            </Col>\n                        </Row>\n                }\n            </Container>\n        )\n    }\n}\n\nexport default Cart"]},"metadata":{},"sourceType":"module"}