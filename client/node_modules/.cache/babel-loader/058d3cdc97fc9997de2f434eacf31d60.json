{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Products/Products.js\";\nimport { Component } from 'react';\nimport ProductsService from './../../../service/products.service';\nimport { Row, Container, Col, Form, Button, Dropdown, ButtonGroup, DropdownButton } from 'react-bootstrap';\nimport ProductList from './ProductList';\nimport SearchBar from './SearchBar';\nimport './Products.css';\nimport SpinnerRoll from '../../shared/Spinner/SpinnnerRoll';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Products extends Component {\n  constructor() {\n    super();\n    this.state = {\n      fullList: undefined,\n      products: undefined,\n      minRangeValue: 0,\n      maxRangeValue: 2000\n    };\n    this.productsService = new ProductsService();\n  }\n\n  componentDidMount() {\n    this.loadProducts();\n  }\n\n  loadProducts() {\n    this.productsService.getAllProducts().then(response => {\n      this.setState({\n        products: response.data,\n        fullList: response.data\n      });\n    }).catch(err => console.log('Error', err));\n  }\n\n  filterList(query) {\n    const productListCopy = [...this.state.fullList];\n    const filteredProducts = productListCopy.filter(product => product.name.toLowerCase().includes(query.toLowerCase()));\n    this.setState({\n      products: filteredProducts\n    });\n  }\n\n  sortLowtoHigh() {\n    const productsArrayCopy = [...this.state.fullList];\n    const sortedArray = productsArrayCopy.sort((a, b) => a.options[0].price - b.options[0].price);\n    this.setState({\n      products: sortedArray\n    });\n  }\n\n  sortHightoLow() {\n    const productsArrayCopy = [...this.state.fullList];\n    const sortedArray = productsArrayCopy.sort((a, b) => b.options[0].price - a.options[0].price);\n    this.setState({\n      products: sortedArray\n    });\n  }\n\n  colorFilter(e) {\n    const selectedColor = e.target.name;\n    const colorArray = [];\n    const productListCopy = [...this.state.fullList];\n    productListCopy.forEach(product => {\n      product.options.forEach(elm => {\n        if (elm.color === selectedColor) {\n          colorArray.push(product);\n        }\n      });\n    });\n    this.setState({\n      products: colorArray\n    });\n  }\n\n  removeFilters() {\n    const productsArrayCopy = [...this.state.fullList];\n    this.setState({\n      products: productsArrayCopy,\n      minRangeValue: 0,\n      maxRangeValue: 3000\n    });\n  }\n\n  handleChangemin(e) {\n    this.setState({\n      minRangeValue: e.target.value\n    });\n    this.rangeFilter();\n    console.log(e.target.value);\n  }\n\n  handleChangemax(e) {\n    this.setState({\n      maxRangeValue: e.target.value\n    });\n    this.rangeFilter();\n    console.log(e.target.value);\n  }\n\n  rangeFilter() {\n    const productsArrayCopy = [...this.state.fullList];\n    const filteredArray = productsArrayCopy.filter(product => product.options[0].price > this.state.minRangeValue && product.options[0].price < this.state.maxRangeValue);\n    this.setState({\n      products: filteredArray\n    });\n  }\n\n  render() {\n    return !this.state.products ? /*#__PURE__*/_jsxDEV(SpinnerRoll, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productPage-header\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"2\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"minValue\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Min   |\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: [this.state.minRangeValue, \"EUR\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  tooltip: \"on\",\n                  type: \"range\",\n                  className: \"rangeSlider\",\n                  min: \"10\",\n                  max: \"2000\",\n                  value: this.state.minRangeValue,\n                  onChange: e => this.handleChangemin(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                controlId: \"maxValue\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Max  |\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: [this.state.maxRangeValue, \"EUR\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"range\",\n                  min: \"10\",\n                  max: \"2000\",\n                  value: this.state.maxRangeValue,\n                  onChange: e => this.handleChangemax(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"filterButtons\",\n            children: [/*#__PURE__*/_jsxDEV(DropdownButton, {\n              variant: \"outline-dark\",\n              as: ButtonGroup,\n              title: \"Sort by Price\",\n              id: \"bg-vertical-dropdown-1\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: () => this.sortLowtoHigh(),\n                eventKey: \"1\",\n                children: \"Low to High\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: () => this.sortHightoLow(),\n                eventKey: \"2\",\n                children: \"High to Low\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n              variant: \"outline-dark\",\n              as: ButtonGroup,\n              title: \"Color\",\n              id: \"bg-vertical-dropdown-1\",\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"black\",\n                name: \"black\",\n                children: \"Black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"white\",\n                name: \"white\",\n                children: \"White\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"red\",\n                name: \"red\",\n                children: \"Red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"blue\",\n                name: \"blue\",\n                children: \"Blue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"green\",\n                name: \"green\",\n                children: \"Green\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"brown\",\n                name: \"brown\",\n                children: \"Brown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"beige\",\n                name: \"beige\",\n                children: \"Beige\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"yellow\",\n                name: \"yellow\",\n                children: \"Yellow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"orange\",\n                name: \"orange\",\n                children: \"Orange\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                onClick: e => this.colorFilter(e),\n                value: \"grey\",\n                name: \"grey\",\n                children: \"Grey\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.removeFilters(),\n              variant: \"outline-danger\",\n              className: \"sortby\",\n              children: \"Remove Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"3\",\n            children: /*#__PURE__*/_jsxDEV(SearchBar, {\n              filterSearch: query => this.filterList(query)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(ProductList, {\n          products: this.state.products\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Products/Products.js"],"names":["Component","ProductsService","Row","Container","Col","Form","Button","Dropdown","ButtonGroup","DropdownButton","ProductList","SearchBar","SpinnerRoll","Products","constructor","state","fullList","undefined","products","minRangeValue","maxRangeValue","productsService","componentDidMount","loadProducts","getAllProducts","then","response","setState","data","catch","err","console","log","filterList","query","productListCopy","filteredProducts","filter","product","name","toLowerCase","includes","sortLowtoHigh","productsArrayCopy","sortedArray","sort","a","b","options","price","sortHightoLow","colorFilter","e","selectedColor","target","colorArray","forEach","elm","color","push","removeFilters","handleChangemin","value","rangeFilter","handleChangemax","filteredArray","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,eAAP,MAA4B,qCAA5B;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoCC,MAApC,EAA4CC,QAA5C,EAAsDC,WAAtD,EAAmEC,cAAnE,QAAyF,iBAAzF;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,gBAAP;AACA,OAAOC,WAAP,MAAwB,mCAAxB;;;AAGA,MAAMC,QAAN,SAAuBb,SAAvB,CAAiC;AAE7Bc,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEC,SADD;AAETC,MAAAA,QAAQ,EAAED,SAFD;AAGTE,MAAAA,aAAa,EAAE,CAHN;AAITC,MAAAA,aAAa,EAAE;AAJN,KAAb;AAMA,SAAKC,eAAL,GAAuB,IAAIpB,eAAJ,EAAvB;AACH;;AAEDqB,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,YAAL;AACH;;AAEDA,EAAAA,YAAY,GAAG;AACX,SAAKF,eAAL,CACKG,cADL,GAEKC,IAFL,CAEUC,QAAQ,IAAI;AACd,WAAKC,QAAL,CAAc;AAAET,QAAAA,QAAQ,EAAEQ,QAAQ,CAACE,IAArB;AAA2BZ,QAAAA,QAAQ,EAAEU,QAAQ,CAACE;AAA9C,OAAd;AACH,KAJL,EAKKC,KALL,CAKWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,GAArB,CALlB;AAMH;;AAEDG,EAAAA,UAAU,CAACC,KAAD,EAAQ;AAEd,UAAMC,eAAe,GAAG,CAAC,GAAG,KAAKpB,KAAL,CAAWC,QAAf,CAAxB;AACA,UAAMoB,gBAAgB,GAAGD,eAAe,CAACE,MAAhB,CAAuBC,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCP,KAAK,CAACM,WAAN,EAApC,CAAlC,CAAzB;AACA,SAAKb,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAEkB;AAAZ,KAAd;AACH;;AAEDM,EAAAA,aAAa,GAAG;AACZ,UAAMC,iBAAiB,GAAG,CAAC,GAAG,KAAK5B,KAAL,CAAWC,QAAf,CAA1B;AACA,UAAM4B,WAAW,GAAGD,iBAAiB,CAACE,IAAlB,CAAuB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAsBF,CAAC,CAACC,OAAF,CAAU,CAAV,EAAaC,KAApE,CAApB;AACA,SAAKtB,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAE0B;AAAZ,KAAd;AACH;;AAEDM,EAAAA,aAAa,GAAG;AACZ,UAAMP,iBAAiB,GAAG,CAAC,GAAG,KAAK5B,KAAL,CAAWC,QAAf,CAA1B;AACA,UAAM4B,WAAW,GAAGD,iBAAiB,CAACE,IAAlB,CAAuB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAsBH,CAAC,CAACE,OAAF,CAAU,CAAV,EAAaC,KAApE,CAApB;AACA,SAAKtB,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAE0B;AAAZ,KAAd;AACH;;AAEDO,EAAAA,WAAW,CAACC,CAAD,EAAI;AACX,UAAMC,aAAa,GAAGD,CAAC,CAACE,MAAF,CAASf,IAA/B;AAEA,UAAMgB,UAAU,GAAG,EAAnB;AACA,UAAMpB,eAAe,GAAG,CAAC,GAAG,KAAKpB,KAAL,CAAWC,QAAf,CAAxB;AACAmB,IAAAA,eAAe,CAACqB,OAAhB,CAAwBlB,OAAO,IAAI;AAC/BA,MAAAA,OAAO,CAACU,OAAR,CAAgBQ,OAAhB,CAAwBC,GAAG,IAAI;AAC3B,YAAIA,GAAG,CAACC,KAAJ,KAAcL,aAAlB,EAAiC;AAC7BE,UAAAA,UAAU,CAACI,IAAX,CAAgBrB,OAAhB;AACH;AACJ,OAJD;AAKH,KAND;AAOA,SAAKX,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAEqC;AAAZ,KAAd;AACH;;AAEDK,EAAAA,aAAa,GAAG;AACZ,UAAMjB,iBAAiB,GAAG,CAAC,GAAG,KAAK5B,KAAL,CAAWC,QAAf,CAA1B;AACA,SAAKW,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAEyB,iBAAZ;AAA+BxB,MAAAA,aAAa,EAAE,CAA9C;AAAiDC,MAAAA,aAAa,EAAE;AAAhE,KAAd;AACH;;AAEDyC,EAAAA,eAAe,CAACT,CAAD,EAAI;AACf,SAAKzB,QAAL,CAAc;AAAER,MAAAA,aAAa,EAAEiC,CAAC,CAACE,MAAF,CAASQ;AAA1B,KAAd;AACA,SAAKC,WAAL;AACAhC,IAAAA,OAAO,CAACC,GAAR,CAAYoB,CAAC,CAACE,MAAF,CAASQ,KAArB;AACH;;AACDE,EAAAA,eAAe,CAACZ,CAAD,EAAI;AACf,SAAKzB,QAAL,CAAc;AAAEP,MAAAA,aAAa,EAAEgC,CAAC,CAACE,MAAF,CAASQ;AAA1B,KAAd;AACA,SAAKC,WAAL;AACAhC,IAAAA,OAAO,CAACC,GAAR,CAAYoB,CAAC,CAACE,MAAF,CAASQ,KAArB;AACH;;AAEDC,EAAAA,WAAW,GAAG;AACV,UAAMpB,iBAAiB,GAAG,CAAC,GAAG,KAAK5B,KAAL,CAAWC,QAAf,CAA1B;AACA,UAAMiD,aAAa,GAAGtB,iBAAiB,CAACN,MAAlB,CAAyBC,OAAO,IAAIA,OAAO,CAACU,OAAR,CAAgB,CAAhB,EAAmBC,KAAnB,GAA2B,KAAKlC,KAAL,CAAWI,aAAtC,IAAuDmB,OAAO,CAACU,OAAR,CAAgB,CAAhB,EAAmBC,KAAnB,GAA2B,KAAKlC,KAAL,CAAWK,aAAjI,CAAtB;AACA,SAAKO,QAAL,CAAc;AAAET,MAAAA,QAAQ,EAAE+C;AAAZ,KAAd;AACH;;AAEDC,EAAAA,MAAM,GAAG;AAEL,WACI,CAAC,KAAKnD,KAAL,CAAWG,QAAZ,gBAEI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YAFJ,gBAII,QAAC,SAAD;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,+BACI,QAAC,GAAD;AAAA,kCACI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,GAAR;AAAA,mCACI,QAAC,IAAD;AAAA,sCACI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,UAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,KAAN;AAAA,6BAAa,KAAKH,KAAL,CAAWI,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,OAAO,EAAC,IAAtB;AAA2B,kBAAA,IAAI,EAAC,OAAhC;AAAwC,kBAAA,SAAS,EAAC,aAAlD;AAAgE,kBAAA,GAAG,EAAC,IAApE;AAAyE,kBAAA,GAAG,EAAC,MAA7E;AAAoF,kBAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI,aAAtG;AAAqH,kBAAA,QAAQ,EAAEiC,CAAC,IAAI,KAAKS,eAAL,CAAqBT,CAArB;AAApI;AAAA;AAAA;AAAA;AAAA,wBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAMI,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,SAAS,EAAC,UAAtB;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,KAAN;AAAA,6BAAa,KAAKrC,KAAL,CAAWK,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII,QAAC,IAAD,CAAM,OAAN;AAAc,kBAAA,IAAI,EAAC,OAAnB;AAA2B,kBAAA,GAAG,EAAC,IAA/B;AAAoC,kBAAA,GAAG,EAAC,MAAxC;AAA+C,kBAAA,KAAK,EAAE,KAAKL,KAAL,CAAWK,aAAjE;AAAgF,kBAAA,QAAQ,EAAEgC,CAAC,IAAI,KAAKY,eAAL,CAAqBZ,CAArB;AAA/F;AAAA;AAAA;AAAA;AAAA,wBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAgBI,QAAC,GAAD;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,oCACI,QAAC,cAAD;AAAgB,cAAA,OAAO,EAAC,cAAxB;AAAuC,cAAA,EAAE,EAAE5C,WAA3C;AAAwD,cAAA,KAAK,EAAC,eAA9D;AAA8E,cAAA,EAAE,EAAC,wBAAjF;AAAA,sCACI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAE,MAAM,KAAKkC,aAAL,EAA9B;AAAoD,gBAAA,QAAQ,EAAC,GAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAE,MAAM,KAAKQ,aAAL,EAA9B;AAAoD,gBAAA,QAAQ,EAAC,GAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAMI,QAAC,cAAD;AAAgB,cAAA,OAAO,EAAC,cAAxB;AAAuC,cAAA,EAAE,EAAE1C,WAA3C;AAAwD,cAAA,KAAK,EAAC,OAA9D;AAAsE,cAAA,EAAE,EAAC,wBAAzE;AAAA,sCACI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAG4C,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,OAA1D;AAAkE,gBAAA,IAAI,EAAC,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,OAA1D;AAAkE,gBAAA,IAAI,EAAC,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,KAA1D;AAAgE,gBAAA,IAAI,EAAC,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,eAII,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,MAA1D;AAAiE,gBAAA,IAAI,EAAC,MAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,eAKI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,OAA1D;AAAkE,gBAAA,IAAI,EAAC,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,eAMI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,OAA1D;AAAkE,gBAAA,IAAI,EAAC,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBANJ,eAOI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,OAA1D;AAAkE,gBAAA,IAAI,EAAC,OAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPJ,eAQI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,QAA1D;AAAmE,gBAAA,IAAI,EAAC,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBARJ,eASI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,QAA1D;AAAmE,gBAAA,IAAI,EAAC,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBATJ,eAUI,QAAC,QAAD,CAAU,IAAV;AAAe,gBAAA,OAAO,EAAGA,CAAD,IAAO,KAAKD,WAAL,CAAiBC,CAAjB,CAA/B;AAAoD,gBAAA,KAAK,EAAC,MAA1D;AAAiE,gBAAA,IAAI,EAAC,MAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAmBI,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAE,MAAM,KAAKQ,aAAL,EAAvB;AAA6C,cAAA,OAAO,EAAC,gBAArD;AAAsE,cAAA,SAAS,EAAC,QAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAnBJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBJ,eAsCI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAC,GAAR;AAAA,mCACI,QAAC,SAAD;AAAW,cAAA,YAAY,EAAE1B,KAAK,IAAI,KAAKD,UAAL,CAAgBC,KAAhB;AAAlC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eA+CI;AAAA;AAAA;AAAA;AAAA,cA/CJ,eAgDI,QAAC,GAAD;AAAA,+BACI,QAAC,WAAD;AAAa,UAAA,QAAQ,EAAE,KAAKnB,KAAL,CAAWG;AAAlC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAhDJ;AAAA;AAAA;AAAA;AAAA;AAAA,YALR;AA2DH;;AA/I4B;;AAkJjC,eAAeL,QAAf","sourcesContent":["import { Component } from 'react'\nimport ProductsService from './../../../service/products.service'\nimport { Row, Container, Col, Form, Button, Dropdown, ButtonGroup, DropdownButton } from 'react-bootstrap'\nimport ProductList from './ProductList'\nimport SearchBar from './SearchBar'\nimport './Products.css'\nimport SpinnerRoll from '../../shared/Spinner/SpinnnerRoll'\n\n\nclass Products extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            fullList: undefined,\n            products: undefined,\n            minRangeValue: 0,\n            maxRangeValue: 2000\n        }\n        this.productsService = new ProductsService()\n    }\n\n    componentDidMount() {\n        this.loadProducts()\n    }\n\n    loadProducts() {\n        this.productsService\n            .getAllProducts()\n            .then(response => {\n                this.setState({ products: response.data, fullList: response.data })\n            })\n            .catch(err => console.log('Error', err))\n    }\n\n    filterList(query) {\n        \n        const productListCopy = [...this.state.fullList]\n        const filteredProducts = productListCopy.filter(product => product.name.toLowerCase().includes(query.toLowerCase()))\n        this.setState({ products: filteredProducts })\n    }\n\n    sortLowtoHigh() {\n        const productsArrayCopy = [...this.state.fullList]\n        const sortedArray = productsArrayCopy.sort((a, b) => a.options[0].price - (b.options[0].price))\n        this.setState({ products: sortedArray })\n    }\n\n    sortHightoLow() {\n        const productsArrayCopy = [...this.state.fullList]\n        const sortedArray = productsArrayCopy.sort((a, b) => b.options[0].price - (a.options[0].price))\n        this.setState({ products: sortedArray })\n    }\n\n    colorFilter(e) {\n        const selectedColor = e.target.name\n        \n        const colorArray = []\n        const productListCopy = [...this.state.fullList]\n        productListCopy.forEach(product => {\n            product.options.forEach(elm => {\n                if (elm.color === selectedColor) {\n                    colorArray.push(product)\n                }\n            })\n        })\n        this.setState({ products: colorArray })\n    }\n\n    removeFilters() {\n        const productsArrayCopy = [...this.state.fullList]\n        this.setState({ products: productsArrayCopy, minRangeValue: 0, maxRangeValue: 3000})\n    }\n\n    handleChangemin(e) {\n        this.setState({ minRangeValue: e.target.value})\n        this.rangeFilter()\n        console.log(e.target.value)\n    }\n    handleChangemax(e) {\n        this.setState({ maxRangeValue: e.target.value })\n        this.rangeFilter()\n        console.log(e.target.value)\n    }\n\n    rangeFilter() {\n        const productsArrayCopy = [...this.state.fullList]\n        const filteredArray = productsArrayCopy.filter(product => product.options[0].price > this.state.minRangeValue && product.options[0].price < this.state.maxRangeValue)\n        this.setState({ products: filteredArray })\n    }\n\n    render() {\n\n        return (\n            !this.state.products\n                ?\n                <SpinnerRoll />\n                :\n                <Container>\n                    <hr />\n                    <div className=\"productPage-header\">\n                        <Row>\n                            <Col lg=\"2\">\n                                <Form>\n                                    <Form.Group controlId=\"minValue\">\n                                        <Form.Label>Min   |</Form.Label>\n                                        <Form.Label>{this.state.minRangeValue}EUR</Form.Label>\n                                        <Form.Control tooltip='on' type=\"range\" className=\"rangeSlider\" min=\"10\" max=\"2000\" value={this.state.minRangeValue} onChange={e => this.handleChangemin(e)}/>\n                                    </Form.Group>\n                                    <Form.Group controlId=\"maxValue\">\n                                        <Form.Label>Max  |</Form.Label>\n                                        <Form.Label>{this.state.maxRangeValue}EUR</Form.Label>\n                                        <br/>\n                                        <Form.Control type=\"range\" min=\"10\" max=\"2000\" value={this.state.maxRangeValue} onChange={e => this.handleChangemax(e)}/>\n                                    </Form.Group>\n                                </Form>\n                            </Col>\n                            <Col className=\"filterButtons\">\n                                <DropdownButton variant=\"outline-dark\" as={ButtonGroup} title=\"Sort by Price\" id=\"bg-vertical-dropdown-1\" >\n                                    <Dropdown.Item onClick={() => this.sortLowtoHigh()} eventKey=\"1\">Low to High</Dropdown.Item>\n                                    <Dropdown.Item onClick={() => this.sortHightoLow()} eventKey=\"2\">High to Low</Dropdown.Item>\n                                </DropdownButton>\n\n                                <DropdownButton variant=\"outline-dark\" as={ButtonGroup} title=\"Color\" id=\"bg-vertical-dropdown-1\" >\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"black\" name=\"black\">Black</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"white\" name=\"white\">White</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"red\" name=\"red\">Red</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"blue\" name=\"blue\">Blue</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"green\" name=\"green\">Green</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"brown\" name=\"brown\">Brown</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"beige\" name=\"beige\">Beige</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"yellow\" name=\"yellow\">Yellow</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"orange\" name=\"orange\">Orange</Dropdown.Item>\n                                    <Dropdown.Item onClick={(e) => this.colorFilter(e)} value=\"grey\" name=\"grey\">Grey</Dropdown.Item>\n                                </DropdownButton>\n\n                                <Button onClick={() => this.removeFilters()} variant=\"outline-danger\" className=\"sortby\">Remove Filters</Button>\n\n                            </Col>\n                            <Col lg=\"3\">\n                                <SearchBar filterSearch={query => this.filterList(query)} />\n                            </Col>\n\n                        </Row>\n                    </div>\n                    <hr />\n                    <Row>\n                        <ProductList products={this.state.products} />\n                    </Row>\n\n                </Container>\n        )\n    }\n}\n\nexport default Products"]},"metadata":{},"sourceType":"module"}