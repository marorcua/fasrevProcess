{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Payment/PaymentConfirmation.js\";\nimport { Container } from 'react-bootstrap';\nimport { Component } from 'react';\nimport confirm from './confirm.gif';\nimport { Link } from 'react-router-dom';\nimport './PaymentConfirmation.css';\nimport OrdersService from '../../../service/order.service';\nimport ClientService from '../../../service/client.service';\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PaymentConfirmation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastOrder: undefined\n    };\n    this.orderService = new OrdersService();\n    this.clientService = new ClientService();\n  }\n\n  componentDidMount() {\n    this.props.updateCartNumber();\n    this.getLastOrder();\n  }\n\n  getLastOrder() {\n    this.orderService.getLastOrderId().then(response => {\n      this.setState({\n        lastOrder: response.data._id\n      });\n      this.addOrderCustomer(response.data._id);\n      this.props.updateCartNumber();\n    }).catch(err => console.log(err));\n  }\n\n  addOrderCustomer(orderId) {\n    this.clientService.addOrder(orderId, this.props.loggedUser.client).then(() => {\n      this.props.updateCartNumber();\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return !this.state.lastOrder ? /*#__PURE__*/_jsxDEV(SpinnerRoll, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 37\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      className: \"confirmation-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: confirm,\n        alt: \"confirmation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Payment Complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 66\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Thank your for your order! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\"Your order reference is: \", this.state.lastOrder && this.state.lastOrder]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), this.props.loggedUser.role === 'CUSTOMER' ? /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/customer-area\",\n        className: \"btn btn-dark\",\n        children: \"Go to my user area\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 66\n      }, this) : /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"btn btn-dark\",\n        children: \"Go to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default PaymentConfirmation;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/Payment/PaymentConfirmation.js"],"names":["Container","Component","confirm","Link","OrdersService","ClientService","SpinnerRoll","PaymentConfirmation","constructor","props","state","lastOrder","undefined","orderService","clientService","componentDidMount","updateCartNumber","getLastOrder","getLastOrderId","then","response","setState","data","_id","addOrderCustomer","catch","err","console","log","orderId","addOrder","loggedUser","client","render","role"],"mappings":";AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,2BAAP;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,wCAAxB;;;AAGA,MAAMC,mBAAN,SAAkCN,SAAlC,CAA4C;AACxCO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAEC;AADF,KAAb;AAIA,SAAKC,YAAL,GAAoB,IAAIT,aAAJ,EAApB;AACA,SAAKU,aAAL,GAAqB,IAAIT,aAAJ,EAArB;AACH;;AAEDU,EAAAA,iBAAiB,GAAG;AAChB,SAAKN,KAAL,CAAWO,gBAAX;AACA,SAAKC,YAAL;AACH;;AAEDA,EAAAA,YAAY,GAAG;AACX,SAAKJ,YAAL,CACKK,cADL,GAEKC,IAFL,CAEUC,QAAQ,IAAI;AACd,WAAKC,QAAL,CAAc;AAACV,QAAAA,SAAS,EAAES,QAAQ,CAACE,IAAT,CAAcC;AAA1B,OAAd;AACA,WAAKC,gBAAL,CAAsBJ,QAAQ,CAACE,IAAT,CAAcC,GAApC;AACA,WAAKd,KAAL,CAAWO,gBAAX;AACH,KANL,EAOKS,KAPL,CAOWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;AAQH;;AAEDF,EAAAA,gBAAgB,CAACK,OAAD,EAAU;AACtB,SAAKf,aAAL,CACKgB,QADL,CACcD,OADd,EACuB,KAAKpB,KAAL,CAAWsB,UAAX,CAAsBC,MAD7C,EAEKb,IAFL,CAEU,MAAM;AAAC,WAAKV,KAAL,CAAWO,gBAAX;AAA8B,KAF/C,EAGKS,KAHL,CAGWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHlB;AAIH;;AAEDO,EAAAA,MAAM,GAAG;AACL,WACI,CAAC,KAAKvB,KAAL,CAAWC,SAAZ,gBAAwB,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YAAxB,gBACI,QAAC,SAAD;AAAW,MAAA,SAAS,EAAC,mBAArB;AAAA,8BACI;AAAK,QAAA,GAAG,EAAET,OAAV;AAAmB,QAAA,GAAG,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,cADJ,oBACiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADjD,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA,+BAAG;AAAA,kDAA6B,KAAKQ,KAAL,CAAWC,SAAX,IAAwB,KAAKD,KAAL,CAAWC,SAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,cAHJ,EAIK,KAAKF,KAAL,CAAWsB,UAAX,CAAsBG,IAAtB,KAA+B,UAA/B,gBAA4C,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,gBAAT;AAA0B,QAAA,SAAS,EAAC,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA5C,gBAEG,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANR;AAAA;AAAA;AAAA;AAAA;AAAA,YAFR;AAcH;;AAjDuC;;AAoD5C,eAAe3B,mBAAf","sourcesContent":["import { Container } from 'react-bootstrap'\nimport { Component } from 'react'\nimport confirm from './confirm.gif'\nimport { Link } from 'react-router-dom'\nimport './PaymentConfirmation.css'\nimport OrdersService from '../../../service/order.service'\nimport ClientService from '../../../service/client.service'\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll'\n\n\nclass PaymentConfirmation extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            lastOrder: undefined\n        }\n\n        this.orderService = new OrdersService()\n        this.clientService = new ClientService()\n    }\n\n    componentDidMount() {\n        this.props.updateCartNumber()\n        this.getLastOrder()\n    }\n\n    getLastOrder() {\n        this.orderService\n            .getLastOrderId()\n            .then(response => {\n                this.setState({lastOrder: response.data._id})\n                this.addOrderCustomer(response.data._id)\n                this.props.updateCartNumber()\n            })\n            .catch(err => console.log(err))\n    }\n\n    addOrderCustomer(orderId) {\n        this.clientService\n            .addOrder(orderId, this.props.loggedUser.client)\n            .then(() => {this.props.updateCartNumber()})\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        return (\n            !this.state.lastOrder ? <SpinnerRoll /> :\n                <Container className=\"confirmation-page\">\n                    <img src={confirm} alt=\"confirmation\"></img> <span>Payment Complete</span>\n                    <p>Thank your for your order! </p>\n                    <p><b>Your order reference is: {this.state.lastOrder && this.state.lastOrder}</b></p>\n                    {this.props.loggedUser.role === 'CUSTOMER' ? <Link to=\"/customer-area\" className=\"btn btn-dark\">Go to my user area</Link>\n                        :\n                        <Link to=\"/\" className=\"btn btn-dark\">Go to Home</Link>\n                    }\n\n                </Container>\n\n        )\n    }\n}\n\nexport default PaymentConfirmation"]},"metadata":{},"sourceType":"module"}