{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/NewProduct/NewProduct.js\";\nimport { Component } from 'react';\nimport { Form, Button, Container, Alert } from 'react-bootstrap';\nimport ProductsService from '../../../service/products.service';\nimport CategoryService from '../../../service/category.service';\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NewProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: {\n        supplier: props.client._id,\n        name: '',\n        description: '',\n        category: undefined\n      },\n      alert: {\n        show: false,\n        text: ' '\n      },\n      categorieOptions: undefined\n    };\n    this.productService = new ProductsService();\n    this.categoriesService = new CategoryService();\n  }\n\n  componentDidMount() {\n    this.loadCategories();\n  }\n\n  loadCategories() {\n    this.categoriesService.getAllCategories().then(response => {\n      this.setState({\n        categorieOptions: response.data\n      });\n    }).catch(err => console.log('Error', err));\n  }\n\n  handleInputChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      product: { ...this.state.product,\n        [name]: value\n      }\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.productService.createProduct(this.state.product, this.props.client._id).then(response => {\n      this.props.fetchProducts();\n      this.props.handleAlert(`${this.state.product.name} has been created`);\n    }).catch(err => {\n      this.setState({\n        alert: {\n          show: true,\n          text: err.response.data.message\n        }\n      });\n    });\n    this.emptyForm();\n  }\n\n  emptyForm() {\n    this.setState({\n      option: { ...this.state.product,\n        supplier: ' ',\n        name: ' ',\n        description: ' ',\n        category: undefined\n      }\n    });\n  }\n\n  render() {\n    return !this.state.categorieOptions ? /*#__PURE__*/_jsxDEV(SpinnerRoll, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        show: this.state.alert.show,\n        variant: \"danger\",\n        children: this.state.alert.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => this.handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            value: this.state.name,\n            onChange: e => this.handleInputChange(e),\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"description\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            value: this.state.description,\n            onChange: e => this.handleInputChange(e),\n            name: \"description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"category\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Select Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            defaultValue: \"Choose Category\",\n            onChange: e => this.handleInputChange(e),\n            name: \"category\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Choose category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this), this.state.categorieOptions.map(elm => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: elm._id,\n              children: [\" \", elm.name]\n            }, elm._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 73\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"dark\",\n          style: {\n            width: '100%'\n          },\n          type: \"submit\",\n          children: \"Create Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default NewProduct;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/NewProduct/NewProduct.js"],"names":["Component","Form","Button","Container","Alert","ProductsService","CategoryService","SpinnerRoll","NewProduct","constructor","props","state","product","supplier","client","_id","name","description","category","undefined","alert","show","text","categorieOptions","productService","categoriesService","componentDidMount","loadCategories","getAllCategories","then","response","setState","data","catch","err","console","log","handleInputChange","e","value","target","handleSubmit","preventDefault","createProduct","fetchProducts","handleAlert","message","emptyForm","option","render","map","elm","width"],"mappings":"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","sourcesContent":["import { Component } from 'react'\nimport { Form, Button, Container, Alert } from 'react-bootstrap'\nimport ProductsService from '../../../service/products.service'\nimport CategoryService from '../../../service/category.service'\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll'\n\nclass NewProduct extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            product: {\n                supplier: props.client._id,\n                name: '',\n                description: '',\n                category: undefined\n            },\n            alert: {\n                show: false,\n                text: ' '\n            },\n            categorieOptions: undefined\n        }\n\n        this.productService = new ProductsService()\n        this.categoriesService = new CategoryService()\n    }\n\n    componentDidMount() {\n        this.loadCategories()\n    }\n\n    loadCategories() {\n        this.categoriesService\n            .getAllCategories()\n            .then(response => {\n                this.setState({ categorieOptions: response.data })\n            })\n            .catch(err => console.log('Error', err))\n    }\n\n    handleInputChange(e) {\n        const { name, value } = e.target\n        this.setState({ product: { ...this.state.product, [name]: value } })\n    }\n\n    handleSubmit(e) {\n        e.preventDefault()\n        this.productService\n            .createProduct(this.state.product, this.props.client._id)\n            .then(response => {\n                this.props.fetchProducts()\n                this.props.handleAlert(`${this.state.product.name} has been created`)\n            })\n            .catch(err => {\n                this.setState({ alert: { show: true, text: err.response.data.message } })\n            })\n\n        this.emptyForm()\n    }\n\n    emptyForm() {\n        this.setState({option:{ ...this.state.product, supplier: ' ', name: ' ', description: ' ', category: undefined }})\n    }\n\n    render() {\n        return (\n            !this.state.categorieOptions\n                ?\n                <SpinnerRoll />\n                :\n                <Container >\n                    <Alert show={this.state.alert.show} variant='danger'>{this.state.alert.text}</Alert>\n                    <Form onSubmit={e => this.handleSubmit(e)}>\n\n                        <Form.Group controlId=\"name\">\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type=\"text\" value={this.state.name} onChange={e => this.handleInputChange(e)} name=\"name\" />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"description\">\n                            <Form.Label>Description:</Form.Label>\n                            <Form.Control type=\"text\" value={this.state.description} onChange={e => this.handleInputChange(e)} name=\"description\" />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"category\">\n                            <Form.Label>Select Category</Form.Label>\n                            <Form.Control as=\"select\" defaultValue=\"Choose Category\" onChange={e => this.handleInputChange(e)} name=\"category\">\n                                <option>Choose category</option>\n                                {this.state.categorieOptions.map(elm => <option key={elm._id} value={elm._id} > {elm.name}</option>)}\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Button variant=\"dark\" style={{ width: '100%' }} type=\"submit\">Create Product</Button>\n                    </Form>\n                </Container>\n        )\n    }\n}\n\nexport default NewProduct"]},"metadata":{},"sourceType":"module"}