{"ast":null,"code":"var _jsxFileName = \"/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/ClientArea/SupplierProfile.js\";\nimport './SupplierProfile.css';\nimport { Component } from 'react';\nimport ProductsService from './../../../service/products.service';\nimport ClientService from './../../../service/client.service';\nimport AuthService from 'service/auth.service';\nimport { Row, Container } from 'react-bootstrap';\nimport MyProductList from './MyProductsList';\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll';\nimport MyDetailsForm from './MyDetailsForm';\nimport DeleteUser from './DeleteUser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SupplierProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      openForm: false,\n      currentUser: undefined\n    };\n    this.productsService = new ProductsService();\n    this.clientService = new ClientService();\n    this.authService = new AuthService();\n  }\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  loadUser() {\n    this.clientService.getOneSupplier(this.props.match.params.id).then(response => {\n      this.setState({\n        currentUser: response.data\n      });\n      console.log(this.state.currentUser);\n    }).catch(err => console.log('Error loading User', err));\n  }\n\n  eliminateAccount(e) {\n    e.preventDefault();\n    this.clientService.deleteClient(this.state.currentUser.client._id).then(response => console.log(response)).catch(err => console.log('Error deleting client', err));\n    this.authService.deleteUser(this.state.currentUser._id).then(response => {\n      this.props.handleAlert(`Account deleted correctly`);\n    }).catch(err => console.log('Error deleting user', err));\n  }\n\n  render() {\n    return !this.state.currentUser ? /*#__PURE__*/_jsxDEV(SpinnerRoll, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 39\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Area\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"suppliers-columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MyDetailsForm, {\n          handleAlert: this.props.handleAlert,\n          client: this.state.currentUser.client._id,\n          loggedUser: this.props.loggedUser,\n          history: this.props.history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"suppliers-columns\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MyProductList, {\n          handleAlert: this.props.handleAlert,\n          client: this.state.currentUser.client\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(DeleteUser, {\n          storeUser: this.props.storeUser,\n          loggedUser: this.props.loggedUser,\n          currentUser: this.state.currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default SupplierProfile;","map":{"version":3,"sources":["/home/mario/Desktop/Procesos/pruebaFasrev/client/src/components/pages/ClientArea/SupplierProfile.js"],"names":["Component","ProductsService","ClientService","AuthService","Row","Container","MyProductList","SpinnerRoll","MyDetailsForm","DeleteUser","SupplierProfile","constructor","state","openForm","currentUser","undefined","productsService","clientService","authService","componentDidMount","loadUser","getOneSupplier","props","match","params","id","then","response","setState","data","console","log","catch","err","eliminateAccount","e","preventDefault","deleteClient","client","_id","deleteUser","handleAlert","render","loggedUser","history","storeUser"],"mappings":"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","sourcesContent":["import './SupplierProfile.css'\nimport { Component } from 'react'\nimport ProductsService from './../../../service/products.service'\nimport ClientService from './../../../service/client.service'\nimport AuthService from 'service/auth.service'\n\nimport { Row, Container } from 'react-bootstrap'\nimport MyProductList from './MyProductsList'\n\nimport SpinnerRoll from 'components/shared/Spinner/SpinnnerRoll'\nimport MyDetailsForm from './MyDetailsForm'\nimport DeleteUser from './DeleteUser'\n\nclass SupplierProfile extends Component {\n\n    constructor() {\n        super()\n        this.state = {\n            openForm: false,\n            currentUser: undefined\n        }\n        this.productsService = new ProductsService()\n        this.clientService = new ClientService()\n        this.authService = new AuthService()\n    }\n    \n\n    componentDidMount() {\n        this.loadUser()\n    }\n\n    loadUser() {\n        this.clientService\n            .getOneSupplier(this.props.match.params.id)\n            .then(response => {\n                this.setState({ currentUser: response.data })\n                console.log(this.state.currentUser)\n            })\n            .catch(err => console.log('Error loading User', err))\n    }\n\n    eliminateAccount(e) {\n        e.preventDefault()\n        this.clientService\n            .deleteClient(this.state.currentUser.client._id)\n            .then(response => console.log(response))\n            .catch(err => console.log('Error deleting client', err))\n\n        this.authService\n            .deleteUser(this.state.currentUser._id)\n            .then(response => {\n                this.props.handleAlert(`Account deleted correctly`)\n            })\n            .catch(err => console.log('Error deleting user', err))\n    }\n\n    render() {\n        return (\n            !this.state.currentUser ? <SpinnerRoll /> :\n                <Container>\n                    <h1>My Area</h1>\n                    <Row className=\"suppliers-columns\">\n                        <h3>My details</h3>\n                        <MyDetailsForm handleAlert={this.props.handleAlert} client={this.state.currentUser.client._id} loggedUser={this.props.loggedUser} history={this.props.history} />\n                    </Row>\n                    <Row className=\"suppliers-columns\">\n                        <h3>My products</h3>\n                        <MyProductList handleAlert={this.props.handleAlert} client={this.state.currentUser.client} />\n                    </Row>\n                    <Row>\n                        <DeleteUser storeUser={this.props.storeUser} loggedUser={this.props.loggedUser} currentUser={this.state.currentUser} />\n                    </Row>\n                </Container>\n        )\n    }\n}\n\nexport default SupplierProfile"]},"metadata":{},"sourceType":"module"}